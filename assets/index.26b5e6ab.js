import{d as e,a as t,r as s,o,c as r,b as a,n as l,t as n,w as i,v as d,e as c,f as u,g as m,p,h as g,i as h,j as w,k as v,l as f,T as x,m as k,q as b,s as y,F as C,u as T,x as I,y as S,z as M,A as N,B as H,C as L,D,E as O,G as V}from"./vendor.7bac23a4.js";const J=e({id:"tasksStore",state:()=>({tasks:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).tasks:[],dir:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).dir:"rtl",currentIndex:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).currentIndex:-1,isFocused:!!JSON.parse(window.localStorage.getItem("taskStore"))&&JSON.parse(window.localStorage.getItem("taskStore")).isFocused,showNameModal:!!JSON.parse(window.localStorage.getItem("taskStore"))&&JSON.parse(window.localStorage.getItem("taskStore")).showNameModal,showDescriptionModal:!!JSON.parse(window.localStorage.getItem("taskStore"))&&JSON.parse(window.localStorage.getItem("taskStore")).showDescriptionModal,whichKeyIsPressed:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).whichKeyIsPressed:"",selectedTaskIndex:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).selectedTaskIndex:-1,aboutToChangeNameTaskIndex:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).aboutToChangeNameTaskIndex:-1,totalTime:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).totalTime:"00:00:00",timer:JSON.parse(window.localStorage.getItem("taskStore"))?JSON.parse(window.localStorage.getItem("taskStore")).timer:null}),getters:{getTaskNameIndex:e=>e.aboutToChangeNameTaskIndex,isTicking:e=>e.tasks.some((e=>e.isTicking)),tasksLength:e=>e.tasks.length},actions:{addTask(e){!e.trim()||e.trim().length<1||this.tasks.push({name:e.trim(),dates:[],description:{isShown:!1,text:""},isTicking:!1,totalTime:"00:00:00"})},addDescription(e,t){this.tasks[t].description.text=e},toggleTask(e,t){if("start"===t){const t=this.tasks.findIndex((e=>e.isTicking));if(this.tasks[e].dates.push({start:Date.now()}),this.tasks[e].isTicking=!0,this.counter(e),-1!==t){const e=this.tasks[t].dates.length-1;this.tasks[t].dates[e].end=Date.now(),this.tasks[t].isTicking=!1}}else{this.tasks[e].isTicking=!1;const t=this.tasks[e].dates.length-1;this.tasks[e].dates[t].end=Date.now()}this.changeCurrentIndex(e)},counter(e){this.timer=setInterval((()=>{-1!==e&&(this.tickingTime(e),this.calculateTotalTime())}),100)},changeCurrentIndex(e){this.currentIndex=e},toStringTime(e){const t=e/1e3;return Math.floor(t/3600).toLocaleString(void 0,{minimumIntegerDigits:2})+":"+Math.floor(t%3600/60).toLocaleString(void 0,{minimumIntegerDigits:2})+":"+(Math.floor(t%3600)%60).toLocaleString(void 0,{minimumIntegerDigits:2})},taskTotalTime(e){let t=0;return this.tasks[e].dates.map((e=>{t=e.end?t+e.end-e.start:t+Date.now()-e.start})),t},changeTaskName(e,t){this.tasks[t].name=e},descriptionText(e){return e.description.text?e.description.text:"rtl"===this.dir?"توضیحات...":"Description..."},deleteTask(e){this.currentIndex>e&&this.currentIndex--,clearInterval(this.timer),this.timer=null,this.tasks.splice(e,1),this.tasks.length<1&&this.calculateTotalTime()},tickingTime(e){this.tasks[e].totalTime=this.toStringTime(this.taskTotalTime(e))},calculateTotalTime(){let e=0;this.tasks&&this.tasks.map(((t,s)=>e+=this.taskTotalTime(s))),this.totalTime=this.toStringTime(e)}}}),Z=t({props:{name:{type:String,required:!0}},setup(e){const t=J(),r=s(e.name),a=s(null),l=s(null);o((()=>{window.clearTimeout(l.value)}));const n=()=>{r.value="",t.showNameModal=!1,t.aboutToChangeNameTaskIndex=-1};return{name:r,store:t,inputRef:a,cancelHandler:n,saveNameHandler:()=>{t.tasks[t.getTaskNameIndex].name=r.value.trim(),n()},focusHandler:()=>{a.value.focus()}}}}),z=["dir"],R={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},B=a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1),j=a("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),F={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},K={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},P={class:"sm:flex sm:items-start"},A=a("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[a("svg",{class:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),E={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},U={class:"mt-2"},_=["placeholder"],W={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"};Z.render=function(e,t,s,o,m,p){return u(),r("div",{dir:e.store.dir,class:"fixed z-10 inset-0 overflow-y-auto font-vazir","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},[a("div",R,[B,j,a("div",F,[a("div",K,[a("div",P,[A,a("div",{class:l(["mt-3 text-center sm:mt-0","rtl"===e.store.dir?"sm:text-right  sm:mr-4":"sm:text-left  sm:ml-4"])},[a("h3",E,n("rtl"===e.store.dir?"تغییر نام تسک":"Change Task's name"),1),a("div",U,[i(a("input",{class:"bg-gray-100 px-2 py-1 rounded-md focus:bg-white focus:border focus:border-blue-200 focus:ring focus:ring-blue-300",ref:"inputRef",placeholder:"rtl"===e.store.dir?"عنوان تسک":"Task's name",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),onKeypress:t[1]||(t[1]=c(((...t)=>e.saveNameHandler&&e.saveNameHandler(...t)),["enter"]))},null,40,_),[[d,e.name]])])],2)])]),a("div",W,[a("button",{type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[2]||(t[2]=(...t)=>e.saveNameHandler&&e.saveNameHandler(...t))},n("rtl"===e.store.dir?"ثبت":"Save"),1),a("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t[3]||(t[3]=(...t)=>e.cancelHandler&&e.cancelHandler(...t))},n("rtl"===e.store.dir?"بازگشت":"Cancel"),1)])])])],8,z)};const q=t({components:{Modal:Z},setup(){const e=J(),t=s(""),r=m((()=>({"text-right":"rtl"===e.dir,"text-left":"rtl"!==e.dir}))),a=s(""),l=s(-1),n=s(null),i=s(null),d=s(null);o((()=>{window.clearTimeout(i.value)}));const c=()=>{e.showDescriptionModal=!1,a.value="",l.value=-1};return{store:e,descriptionValue:a,saveDescriptionHandler:()=>{e.addDescription(a.value,l.value),c()},descriptionModalOpenHandler:(t,s)=>{e.showDescriptionModal=!0,a.value=t.description.text,l.value=s,i.value=setTimeout((()=>{console.log(n.value),n.value.focus()}),100)},cancelHandler:c,classNames:t=>{let s="";if(s+=t%2==0?" bg-gray-50":" bg-white",e.currentIndex===t&&e.tasks[t].isTicking&&(s+=" bg-green-100"),e.selectedTaskIndex===t){s+=" !ring-2 ring-purple-300"}else{s+=t%2==0?" ring-2 ring-gray-50":" ring-2 ring-white"}return s},nameModalHandler:(s,o)=>{e.showNameModal=!0,e.aboutToChangeNameTaskIndex=o,t.value=s,setTimeout((()=>{d.value.focusHandler()}),100)},clickedName:t,classObject:r,descriptionModalText:n,modalRef:d}}});p("data-v-d01eebf8");const G={class:"w-3/4 mx-auto pb-8"},Y={key:1,class:"mt-4 font-vazir"},$=["dir"],Q={key:1,class:"modal font-vazir absolute top-0 right-0 bottom-0 left-0 flex flex-col items-center justify-center"},X={class:"flex flex-col items-center justify-center p-5 w-72 h-72 rounded-md bg-white min-w-max max-w-md h-1/3"},ee=["dir"],te={class:"flex"},se=["id","onClick"],oe={class:"flex justify-between"},re={class:"flex"},ae=["onClick"],le=["onClick"],ne=[a("path",{d:"M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z",fill:"currentColor"},null,-1)],ie=["onClick"],de=[a("path",{d:"M17.6569 16.2427L19.0711 14.8285L12.0001 7.75739L4.92896 14.8285L6.34317 16.2427L12.0001 10.5858L17.6569 16.2427Z",fill:"currentColor"},null,-1)],ce={class:"flex"},ue={class:"flex justify-between"},me=["onClick"],pe=[a("path",{d:"M15 12.3301L9 16.6603L9 8L15 12.3301Z",fill:"currentColor"},null,-1)],ge=["onClick"],he=[a("path",{d:"M11 7H8V17H11V7Z",fill:"currentColor"},null,-1),a("path",{d:"M13 17H16V7H13V17Z",fill:"currentColor"},null,-1)],we=["onClick"],ve=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)],fe=["onClick"],xe={key:2},ke={key:0,class:"text-gray-500 font-vazir text-xl lg:text-3xl font-bold text-center my-5"},be={key:1,class:"text-gray-500 font-semibold text-xl lg:text-3xl text-center my-5"};g(),q.render=function(e,t,s,o,m,p){const g=h("Modal");return u(),r("div",G,[e.store.showNameModal?(u(),w(g,{key:0,name:e.clickedName,ref:"modalRef"},null,8,["name"])):v("",!0),e.store.tasks&&e.store.tasks.length>0?(u(),r("div",Y,[(u(),w(x,{to:"body"},[e.store.showDescriptionModal?(u(),r("div",{key:0,dir:e.store.dir,class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,8,$)):v("",!0),e.store.showDescriptionModal?(u(),r("div",Q,[a("div",X,[i(a("textarea",{dir:e.store.dir,ref:"descriptionModalText","onUpdate:modelValue":t[0]||(t[0]=t=>e.descriptionValue=t),class:"p-2 my-2 rounded-md bg-gray-200 w-full h-full",onKeydown:t[1]||(t[1]=c(f(((...t)=>e.saveDescriptionHandler&&e.saveDescriptionHandler(...t)),["shift"]),["enter"]))},null,40,ee),[[d,e.descriptionValue]]),a("div",te,[a("button",{type:"button",onClick:t[2]||(t[2]=(...t)=>e.saveDescriptionHandler&&e.saveDescriptionHandler(...t)),class:"rounded-md bg-green-200 text-green-800 px-2 py-1 hover:bg-green-300 hover:text-green-900"},n("rtl"===e.store.dir?"ثبت":"Save"),1),a("button",{type:"button",onClick:t[3]||(t[3]=(...t)=>e.cancelHandler&&e.cancelHandler(...t)),class:"mx-2 rounded-md bg-red-200 text-red-800 px-2 py-1 hover:bg-red-300 hover:text-red-900"},n("rtl"===e.store.dir?"بازگشت":"Cancel"),1)])])])):v("",!0)])),k(y,{name:"list-complete",tag:"div"},{default:b((()=>[(u(!0),r(C,null,T(e.store.tasks,((t,s)=>(u(),r("div",{id:s,key:s,onClick:t=>e.store.selectedTaskIndex=s,class:l(["flex flex-col p-4 rounded mb-4 list-complete-item shadow-md",e.classNames(s)])},[a("div",oe,[a("div",re,[a("span",{class:"",onClick:f((o=>e.nameModalHandler(t.name,s)),["stop"])},n(t.name),9,ae),t.description.isShown?(u(),r("svg",{key:1,id:"chevron-up",class:"mx-2 text-blue-700 hover:bg-blue-200 rounded-md w-5 h-5 cursor-pointer transition ease-in-out duration-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f((e=>t.description.isShown=!1),["stop"])},de,8,ie)):(u(),r("svg",{key:0,id:"chevron-down",class:"mx-2 text-blue-700 hover:bg-blue-200 hover: rounded-md w-5 h-5 cursor-pointer transition ease-in-out duration-200",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f((e=>t.description.isShown=!0),["stop"])},ne,8,le))]),a("div",ce,[a("span",null,n(t.totalTime),1),a("div",ue,[t.isTicking?(u(),r("svg",{key:1,"aria-label":"pause button",class:"transition ease-in-out duration-500 h-6 w-6 mx-5 text-pink-600 bg-pink-200 rounded-full hover:bg-pink-300 hover:text-pink-800 cursor-pointer",viewBox:"0 0 24 24",fill:"none",onClick:t=>e.store.toggleTask(s,"stop"),xmlns:"http://www.w3.org/2000/svg"},he,8,ge)):(u(),r("svg",{key:0,"aria-label":"play button",class:"h-6 w-6 mx-5 text-green-600 bg-green-200 rounded-full hover:bg-green-300 hover:text-green-800 cursor-pointer transition ease-in duration-300",viewBox:"0 0 24 24",fill:"none",onClick:t=>e.store.toggleTask(s,"start"),xmlns:"http://www.w3.org/2000/svg"},pe,8,me))]),(u(),r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 p-1 text-red-600 bg-red-200 rounded-full hover:bg-red-300 hover:text-red-800 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:f((t=>e.store.deleteTask(s)),["stop"])},ve,8,we))])]),t.description.isShown?(u(),r("div",{key:0,class:l([e.classObject,"bg-gray-100 my-2 rounded-md p-2 transition ease-in-out duration-500 cursor-pointer text-gray-500 whitespace-pre-line"]),onClick:f((o=>e.descriptionModalOpenHandler(t,s)),["stop"])},n(e.store.descriptionText(t)),11,fe)):v("",!0)],10,se)))),128))])),_:1})])):(u(),r("div",xe,["rtl"===e.store.dir?(u(),r("div",ke,"تسکی که میخوای رو اضافه کن!")):(u(),r("div",be,"Add a task!"))]))])},q.__scopeId="data-v-d01eebf8";const ye=t({setup(){const e=s(""),t=J(),o=s(null),r=s(null);I((()=>{window.clearTimeout(o.value)}));return{newTaskName:e,store:t,focusHandler:()=>{t.isFocused=!0},blurHandler:()=>{o.value=setTimeout((()=>{t.isFocused=!1}),100)},insertTaskHandler:()=>{t.addTask(e.value),e.value="",r.value.blur()},taskInput:r,onClearInput:()=>{e.value="",r.value.blur()}}}}),Ce={class:"flex mt-4 items-center font-vazir"},Te={class:"relative w-full mb-24 flex items-center justify-center"},Ie={class:"max-w-24rem absolute top-0 w-full"},Se=["placeholder"],Me=[a("svg",{viewBox:"0 0 24 24",fill:"none",class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5C13 4.44772 12.5523 4 12 4Z",fill:"currentColor"})],-1)],Ne={type:"button",class:"focus:outline-none bg-gray-50 border-2 text-gray-400 border-white rounded-2xl p-2 cursor-default"},He=[a("svg",{id:"slash",width:"24",height:"24",class:"border-2 rounded-md",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.526 6.10576C15.0265 6.33917 15.2667 6.88343 15.0625 7.3214L9.88541 18.4237C9.68118 18.8616 9.10985 19.0275 8.60931 18.7941C8.10877 18.5607 7.86857 18.0164 8.0728 17.5784L13.2499 6.47616C13.4541 6.03819 14.0254 5.87235 14.526 6.10576Z",fill:"currentColor"})],-1)];ye.render=function(e,t,s,o,n,m){return u(),r("header",Ce,[a("div",Te,[a("div",Ie,[i(a("input",{type:"text",ref:"taskInput","onUpdate:modelValue":t[0]||(t[0]=t=>e.newTaskName=t),placeholder:"rtl"===e.store.dir?"عنوان تسک":"Enter a task...",onFocus:t[1]||(t[1]=(...t)=>e.focusHandler&&e.focusHandler(...t)),onBlur:t[2]||(t[2]=(...t)=>e.blurHandler&&e.blurHandler(...t)),class:"block resize-none overflow-hidden w-full bg-white focus:outline-none w-full text-seven leading-seven font-vazir font-bold-body-weight flex py-4 px-8 rounded-xl border-2 border-transparent text-gray-900 transition-colors duration-200 placeholder-gray-400",onKeypress:t[3]||(t[3]=c(((...t)=>e.insertTaskHandler&&e.insertTaskHandler(...t)),["enter"]))},null,40,Se),[[d,e.newTaskName]]),a("div",{class:l(["absolute top-0 p-2",{"left-0":"rtl"===e.store.dir,"right-0":"ltr"===e.store.dir}])},[i(a("button",{type:"button",class:"focus:outline-none bg-gray-50 border-2 text-green-400 border-white rounded-2xl p-2 hover:text-green-700",onClick:t[4]||(t[4]=(...t)=>e.insertTaskHandler&&e.insertTaskHandler(...t))},Me,512),[[S,e.newTaskName&&e.store.isFocused]]),i(a("button",Ne,He,512),[[S,!e.store.isFocused]])],2)])])])};const Le=t({setup:()=>({store:J()})}),De={class:"fixed bottom-3 flex items-end mr-2"},Oe={class:"flex flex-col ml-2"},Ve={class:"has-tooltip"},Je=[a("path",{d:"M14.8543 11.9741L16.2686 10.5599L12.0259 6.31724L7.78327 10.5599L9.19749 11.9741L11.0259 10.1457V17.6828H13.0259V10.1457L14.8543 11.9741Z",fill:"currentColor"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5C2.79086 1 1 2.79086 1 5V19ZM5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21Z",fill:"currentColor"},null,-1)],Ze=[a("path",{d:"M14.8284 12.0259L16.2426 13.4402L12 17.6828L7.75733 13.4402L9.17155 12.0259L11 13.8544V6.31724H13V13.8544L14.8284 12.0259Z",fill:"currentColor"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 5C1 2.79086 2.79086 1 5 1H19C21.2091 1 23 2.79086 23 5V19C23 21.2091 21.2091 23 19 23H5C2.79086 23 1 21.2091 1 19V5ZM5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3Z",fill:"currentColor"},null,-1)],ze={class:"tooltip tooltip-bottom text-left"},Re={class:"has-tooltip"},Be=[a("path",{d:"M21,9a1,1,0,0,0-1,1v3H4V10a1,1,0,0,0-2,0v4a1,1,0,0,0,1,1H21a1,1,0,0,0,1-1V10A1,1,0,0,0,21,9Z"},null,-1)],je={class:"tooltip tooltip-bottom text-left"},Fe={class:"has-tooltip"},Ke=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.526 6.10576C15.0265 6.33917 15.2667 6.88343 15.0625 7.3214L9.88541 18.4237C9.68118 18.8616 9.10985 19.0275 8.60931 18.7941C8.10877 18.5607 7.86857 18.0164 8.0728 17.5784L13.2499 6.47616C13.4541 6.03819 14.0254 5.87235 14.526 6.10576Z",fill:"currentColor"},null,-1)],Pe={class:"tooltip tooltip-bottom text-left"};Le.render=function(e,t,s,o,i,d){return u(),r("div",De,[a("div",Oe,[a("div",Ve,[(u(),r("svg",{id:"arrow-up",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",class:l(["text-gray-600 opacity-50 hover:opacity-100","arrowup"===e.store.whichKeyIsPressed?"opacity-100":""]),xmlns:"http://www.w3.org/2000/svg"},Je,2)),(u(),r("svg",{id:"arrow-down",width:"24",height:"24",viewBox:"0 0 24 24",class:l(["text-gray-600 opacity-50 hover:opacity-100","arrowdown"===e.store.whichKeyIsPressed?"opacity-100":""]),fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ze,2)),a("div",ze,n("rtl"===e.store.dir?"حرکت بین تسک ها":"move between tasks"),1)])]),a("div",Re,[(u(),r("svg",{id:"space",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:l(["w-16 h-6 border-2 border-gray-600 rounded-md ml-2 text-gray-600 opacity-50 hover:opacity-100","space"===e.store.whichKeyIsPressed?"opacity-100":""])},Be,2)),a("div",je,n("rtl"===e.store.dir?"شروع/توقف تایمر":"play/pause timer"),1)]),a("div",Fe,[(u(),r("svg",{id:"slash",width:"24",height:"24",class:l(["border-2 border-gray-600 rounded-md text-gray-600 opacity-50 hover:opacity-100 ml-2","slash"===e.store.whichKeyIsPressed?"opacity-100":""]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ke,2)),a("div",Pe,n("rtl"===e.store.dir?"ورود عنوان تسک با فشردن این دکمه":"press to enter a task name"),1)])])};const Ae=t({setup:()=>({store:J()})}),Ee={class:"flex justify-between mt-1"},Ue=a("a",{href:"https://github.com/AldeonMoriak/task-tracker",target:"_blank",rel:"noreferrer"},[a("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",class:"h-10 w-10 left-1 top-1 cursor-pointer bg-gray-50 text-gray-600 rounded-full opacity-50 p-1 m-2 hover:bg-gray-200 hover:text-gray-700 hover:opacity-100",style:{"-ms-transform":"rotate(360deg)","-webkit-transform":"rotate(360deg)",transform:"rotate(360deg)"},preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 250"},[a("path",{d:"M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46c6.397 1.185 8.746-2.777 8.746-6.158c0-3.052-.12-13.135-.174-23.83c-35.61 7.742-43.124-15.103-43.124-15.103c-5.823-14.795-14.213-18.73-14.213-18.73c-11.613-7.944.876-7.78.876-7.78c12.853.902 19.621 13.19 19.621 13.19c11.417 19.568 29.945 13.911 37.249 10.64c1.149-8.272 4.466-13.92 8.127-17.116c-28.431-3.236-58.318-14.212-58.318-63.258c0-13.975 5-25.394 13.188-34.358c-1.329-3.224-5.71-16.242 1.24-33.874c0 0 10.749-3.44 35.21 13.121c10.21-2.836 21.16-4.258 32.038-4.307c10.878.049 21.837 1.47 32.066 4.307c24.431-16.56 35.165-13.12 35.165-13.12c6.967 17.63 2.584 30.65 1.255 33.873c8.207 8.964 13.173 20.383 13.173 34.358c0 49.163-29.944 59.988-58.447 63.157c4.591 3.972 8.682 11.762 8.682 23.704c0 17.126-.148 30.91-.148 35.126c0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002C256 57.307 198.691 0 128.001 0zm-80.06 182.34c-.282.636-1.283.827-2.194.39c-.929-.417-1.45-1.284-1.15-1.922c.276-.655 1.279-.838 2.205-.399c.93.418 1.46 1.293 1.139 1.931zm6.296 5.618c-.61.566-1.804.303-2.614-.591c-.837-.892-.994-2.086-.375-2.66c.63-.566 1.787-.301 2.626.591c.838.903 1 2.088.363 2.66zm4.32 7.188c-.785.545-2.067.034-2.86-1.104c-.784-1.138-.784-2.503.017-3.05c.795-.547 2.058-.055 2.861 1.075c.782 1.157.782 2.522-.019 3.08zm7.304 8.325c-.701.774-2.196.566-3.29-.49c-1.119-1.032-1.43-2.496-.726-3.27c.71-.776 2.213-.558 3.315.49c1.11 1.03 1.45 2.505.701 3.27zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033c-1.448-.439-2.395-1.613-2.103-2.626c.301-1.01 1.747-1.484 3.207-1.028c1.446.436 2.396 1.602 2.095 2.622zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95c-1.53.034-2.769-.82-2.786-1.86c0-1.065 1.202-1.932 2.733-1.958c1.522-.03 2.768.818 2.768 1.868zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37c-1.485.271-2.861-.365-3.05-1.386c-.184-1.056.893-2.114 2.376-2.387c1.514-.263 2.868.356 3.061 1.403z",fill:"#161614"})])],-1),_e={class:"has-tooltip"},We=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM14.8055 18.4151C17.1228 17.4003 18.7847 15.1667 18.9806 12.525C18.1577 12.9738 17.12 13.3418 15.9371 13.598C15.7882 15.4676 15.3827 17.1371 14.8055 18.4151ZM9.1945 5.58487C7.24725 6.43766 5.76275 8.15106 5.22208 10.244C5.4537 10.4638 5.84813 10.7341 6.44832 11.0008C6.89715 11.2003 7.42053 11.3798 8.00537 11.5297C8.05853 9.20582 8.50349 7.11489 9.1945 5.58487ZM10.1006 13.9108C10.2573 15.3675 10.5852 16.6202 10.9992 17.5517C11.2932 18.2133 11.5916 18.6248 11.8218 18.8439C11.9037 18.9219 11.9629 18.9634 12 18.9848C12.0371 18.9634 12.0963 18.9219 12.1782 18.8439C12.4084 18.6248 12.7068 18.2133 13.0008 17.5517C13.4148 16.6202 13.7427 15.3675 13.8994 13.9108C13.2871 13.9692 12.6516 14 12 14C11.3484 14 10.7129 13.9692 10.1006 13.9108ZM8.06286 13.598C8.21176 15.4676 8.61729 17.1371 9.1945 18.4151C6.8772 17.4003 5.21525 15.1666 5.01939 12.525C5.84231 12.9738 6.88001 13.3418 8.06286 13.598ZM13.9997 11.8896C13.369 11.9609 12.6993 12 12 12C11.3008 12 10.631 11.9609 10.0003 11.8896C10.0135 9.66408 10.4229 7.74504 10.9992 6.44832C11.2932 5.78673 11.5916 5.37516 11.8218 5.15605C11.9037 5.07812 11.9629 5.03659 12 5.01516C12.0371 5.03659 12.0963 5.07812 12.1782 5.15605C12.4084 5.37516 12.7068 5.78673 13.0008 6.44832C13.5771 7.74504 13.9865 9.66408 13.9997 11.8896ZM15.9946 11.5297C15.9415 9.20582 15.4965 7.11489 14.8055 5.58487C16.7528 6.43766 18.2373 8.15107 18.7779 10.244C18.5463 10.4638 18.1519 10.7341 17.5517 11.0008C17.1029 11.2003 16.5795 11.3798 15.9946 11.5297Z",fill:"currentColor"},null,-1)],qe=["dir"];function Ge(e={}){const{immediate:t=!0,onNeedRefresh:o,onOfflineReady:r}=e,a=s(!1),l=s(!1);return{updateServiceWorker:function(e={}){const{immediate:t=!1,onNeedRefresh:s,onOfflineReady:o}=e;let r,a;if("serviceWorker"in navigator){r=new M("/sw.js",{scope:"/"}),r.addEventListener("activated",(e=>{e.isUpdate||null==o||o()}));{const e=()=>{null==s||s()};r.addEventListener("waiting",e),r.addEventListener("externalwaiting",e)}r.register({immediate:t}).then((e=>a=e))}return async(e=!0)=>{e&&(null==r||r.addEventListener("controlling",(e=>{e.isUpdate&&window.location.reload()}))),a&&a.waiting&&await N(a.waiting,{type:"SKIP_WAITING"})}}({immediate:t,onNeedRefresh(){a.value=!0,null==o||o()},onOfflineReady(){l.value=!0,null==r||r()}}),offlineReady:l,needRefresh:a}}Ae.render=function(e,t,s,o,l,i){return u(),r("div",Ee,[Ue,a("div",_e,[(u(),r("svg",{width:"24",class:"h-8 w-8 left-1 top-1 cursor-pointer bg-gray-50 text-gray-600 rounded-full opacity-50 p-1 m-2 hover:bg-gray-200 hover:text-gray-700 hover:opacity-100",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t[0]||(t[0]=t=>"rtl"===e.store.dir?e.store.dir="ltr":e.store.dir="rtl")},We)),a("div",{class:"tooltip tooltip-top",dir:e.store.dir},n("rtl"===e.store.dir?"English / انگلیسی":"Farsi / فارسی"),9,qe)])])};const Ye={class:"mb-4"},$e={key:0},Qe={key:1},Xe=t({components:{Tasks:q,InputComponent:ye,BottomIcons:Le,TopIcons:Ae,ReloadPrompt:{setup(e){const t=J(),{offlineReady:s,needRefresh:o,updateServiceWorker:i}=Ge(),d=async()=>{s.value=!1,o.value=!1};return(e,c)=>H(s)||H(o)?(u(),r("div",{key:0,class:l(["fixed bottom-0 m-8 p-10 border border-blue-300 rounded z-10 shadow bg-white font-vazir",{"text-left":"ltr"===H(t).dir,"text-right":"rtl"===H(t).dir}]),role:"alert"},[a("div",Ye,[H(s)?(u(),r("span",$e,n("ltr"===H(t).dir?"App ready to work offline":"برنامه آماده آفلاین کار کردن"),1)):(u(),r("span",Qe,n("ltr"===H(t).dir?"New content available, click on reload button to update.":"اطلاعات جدید موجوده. دکمه رفرش رو بزن."),1))]),H(o)?(u(),r("button",{key:0,class:"bg-blue-50 text-blue-600 rounded hover:text-blue-800 hover:bg-blue-100 outline-none py-1 px-3",onClick:c[0]||(c[0]=e=>H(i)())},n("ltr"===H(t).dir?"Reload":"رفرش"),1)):v("",!0),a("button",{class:"bg-red-50 text-red-600 rounded hover:text-red-800 hover:bg-red-100 outline-none py-1 px-3 mx-2",onClick:d},n("ltr"===H(t).dir?"Close":"بستن"),1)],2)):v("",!0)}}},setup(){const e=J(),t=s(null),o=s(null),r=s(null);let a=null;function l(t){e.whichKeyIsPressed=t.code.toLowerCase(),a=setTimeout((()=>{e.whichKeyIsPressed=""}),100)}I((()=>window.clearTimeout(a)));const n=s=>{"slash"!==s.code.toLowerCase()||e.isFocused||e.showNameModal||e.showDescriptionModal?"escape"===s.code.toLowerCase()?(l(s),e.isFocused?(s.preventDefault(),t.value.onClearInput()):e.showNameModal?(s.preventDefault(),r.value.modalRef.cancelHandler()):e.showDescriptionModal?(s.preventDefault(),r.value.cancelHandler()):-1!==e.selectedTaskIndex&&(s.preventDefault(),e.selectedTaskIndex=-1)):"arrowdown"!==s.code.toLowerCase()||e.isFocused||e.showNameModal||e.showDescriptionModal?"arrowup"!==s.code.toLowerCase()||e.isFocused||e.showNameModal||e.showDescriptionModal?"space"!==s.code.toLowerCase()||e.isFocused||e.showNameModal||e.showDescriptionModal||-1!==e.selectedTaskIndex&&(l(s),s.preventDefault(),e.tasks[e.selectedTaskIndex].isTicking?e.toggleTask(e.selectedTaskIndex,"stop"):e.toggleTask(e.selectedTaskIndex,"start")):-1!==e.selectedTaskIndex?(l(s),s.preventDefault(),e.selectedTaskIndex=0!==e.selectedTaskIndex?e.selectedTaskIndex-1:e.tasksLength-1):(l(s),s.preventDefault(),e.selectedTaskIndex=e.tasksLength-1):-1!==e.selectedTaskIndex?(l(s),s.preventDefault(),e.selectedTaskIndex=e.selectedTaskIndex!==e.tasksLength-1?e.selectedTaskIndex+1:0):(l(s),s.preventDefault(),e.selectedTaskIndex=0):(s.preventDefault(),l(s),t.value.taskInput.focus())};return L((()=>{o.value=addEventListener("keydown",n),e.isTicking&&e.counter(e.tasks.findIndex((e=>e.isTicking)))})),D((()=>e.$state),(e=>{localStorage.setItem("taskStore",JSON.stringify(e))}),{deep:!0}),{store:e,taskInput:t,tasksRef:r}}}),et=["dir"],tt={key:0,class:"bg-purple-100 text-xl w-1/3 mx-auto my-2 rounded p-2 text-gray-700 font-vazir"};Xe.render=function(e,t,s,o,a,i){const d=h("TopIcons"),c=h("InputComponent"),m=h("Tasks"),p=h("ReloadPrompt"),g=h("BottomIcons");return u(),r("div",{dir:e.store.dir,class:l(["mx-auto max-w-screen-md text-center border-t-4 border-blue-300 bg-blue-50",e.store.tasks.length<10?"h-screen":"h-full"])},[k(d),k(c,{ref:"taskInput",class:"w-3/4 mx-auto"},null,512),"00:00:00"!==e.store.totalTime?(u(),r("div",tt,n(("rtl"===e.store.dir?"زمان کلی:":"Total Time:")+" "+e.store.totalTime),1)):v("",!0),k(m,{ref:"tasksRef"},null,512),k(p),k(g)],10,et)};const st=O();V(Xe).use(st).mount("#app");
